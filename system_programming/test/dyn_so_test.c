/******************************************************************************
 *	Author:    Yuval
 *	Reviewer : 
 *	Date:
 ******************************************************************************/

#include <assert.h> /* assert			  */
#include <stdlib.h>
#include <stdio.h>
#include <dlfcn.h>



/******************************************************************************
 *							 DECLRATION								 		  *
 ******************************************************************************/


/******************************************************************************
 *							 FUNCTIONS 										  *
 ******************************************************************************/
int main(int argc, char ** argv)
{
    void *handle = NULL;
    void *so_function = NULL;
    int (*fptr)() = NULL;
    int (*blabla)(void);
    if (argc < 3)
    {
        printf("missing argv\n");
    }

    handle = dlopen(argv[1], RTLD_);
    if (handle == NULL)
    {
        printf("couldnt open shared with arg %s", argv[1]);
    }
    fptr = (int (*)())dlsym(handle, argv[2]);
    
    fptr(); 

    return 0;
}


/******************************************************************************
 *							STATIC FUNCTIONS 								  *
 ******************************************************************************/
